set_thermostat:
  sequence:
    - service: climate.set_preset_mode
      data:
        entity_id: "{{ entity_id }}"
        preset_mode: home
    - service: climate.set_temperature
      data_template:
        entity_id: "{{ entity_id }}"
        temperature: "{{ temperature }}"

heating_morning:
  sequence:
    - service: script.set_thermostat
      data:
        entity_id: climate.living_room
        temperature: 20
    - service: script.set_thermostat
      data:
        entity_id: climate.kitchen
        temperature: 19
    - service: script.set_thermostat
      data:
        entity_id: climate.bedroom
        temperature: 20
    - service: script.set_thermostat
      data:
        entity_id: climate.office
        temperature: "{{ '20' if is_state('binary_sensor.workday_sensor', 'on') else '18' }}"

heating_work:
  sequence:
    - service: script.set_thermostat
      data:
        entity_id: climate.living_room
        temperature: 19
    - service: script.set_thermostat
      data:
        entity_id: climate.office
        temperature: 20
    - service: climate.turn_off
      entity_id:
          - climate.kitchen
          - climate.bedroom
          - climate.loft

heating_away:
  sequence:
    - service: climate.set_preset_mode
      data:
        entity_id: climate.living_room
        preset_mode: away
    - service: climate.set_temperature
      data_template:
        entity_id: climate.living_room
        temperature: 16
    - service: climate.turn_off
      entity_id:
          - climate.kitchen
          - climate.bedroom
          - climate.office
          - climate.loft

heating_close:
  sequence:
    - service: script.set_thermostat
      data:
        entity_id: climate.living_room
        temperature: 20

heating_back:
  sequence:
    - service: script.set_thermostat
      data:
        entity_id: climate.living_room
        temperature: 20.5
    - service: script.set_thermostat
      data:
        entity_id: climate.kitchen
        temperature: 19
    - service: script.set_thermostat
      data:
        entity_id: climate.bedroom
        temperature: 20

heating_night:
  sequence:
    - service: script.set_thermostat
      data:
        entity_id: climate.living_room
        temperature: 17
    - service: script.set_thermostat
      data:
        entity_id: climate.bedroom
        temperature: 18
    - service: climate.turn_off
      entity_id:
          - climate.kitchen
          - climate.office
